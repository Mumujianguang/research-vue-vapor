# Vapor mode 蒸汽模式

在回顾了 Vue 的迭代过程后，我们就可以回到主题 **Vapor mode** 了，这也是 Vue 围绕 **编译时优化** 进行的一项研究，当然也是受到了 **SolidJS** 的启发

前面我们提到，基于的 Vue 的架构体系，**运行时优化** 几乎只能围绕如何更快的找出 **虚拟DOM** 中变化的部分来做

如果回到 Vue1.0 没有**虚拟DOM**的形态，那个时候的**细粒度绑定**就不需要去找变化，更不需要虚拟DOM，但痛点是

- ```依赖是在运行时确定的```。系统初始化需要在编译阶段解析指令等并收集依赖，会增加**首屏渲染**的时间

- 细粒度的依赖收集导致产生大量的 **Watcher**，带来更多的**内存开销**

现在我们换一个视角，如果把**依赖的确定时机**从**运行时**挪到**编译时**，通过编译手段将每个 **响应式数据** 变化时需要执行的更新逻辑生成出来，不就能解决上述的第一个痛点了吗，这也就是 **Vapor mode** 的思路

至于第二个痛点，从理论上来说，依赖收集的粒度由粗到细，势必会增加内存开销，这个点 **Vapor mode** 将如何处理？我们存疑，等它正式发布后再 **callback**